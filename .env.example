# =============================================================================
# Electricity Optimizer - Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# =============================================================================

# =============================================================================
# Database Configuration (Neon PostgreSQL)
# =============================================================================
# DATABASE_URL=postgresql://user:password@host.neon.tech/dbname?sslmode=require

# =============================================================================
# Redis Configuration
# =============================================================================
# REDIS_PASSWORD=  # Generate with: openssl rand -base64 24

# =============================================================================
# External API Keys (obtain from providers)
# =============================================================================
# Flatpeak API (UK/EU electricity prices)
# Get from: https://flatpeak.energy/developers
FLATPEAK_API_KEY=fp_your_api_key_here

# NREL API (US utility rates)
# Get from: https://developer.nrel.gov/signup/
NREL_API_KEY=your_nrel_api_key

# IEA API (Global electricity statistics)
# Get from: https://www.iea.org/data-and-statistics
IEA_API_KEY=your_iea_api_key

# UtilityAPI (US smart meter data)
# Get from: https://utilityapi.com/
UTILITYAPI_KEY=your_utilityapi_key

# OpenVolt (UK smart meter data)
# Get from: https://openvolt.com/
OPENVOLT_API_KEY=your_openvolt_key

# =============================================================================
# Authentication Configuration â€” Neon Auth (Better Auth)
# =============================================================================
# BETTER_AUTH_SECRET: Signing key for session tokens (generate with: openssl rand -hex 32)
# BETTER_AUTH_URL: Public URL of the frontend (e.g. https://your-app.vercel.app)
# BETTER_AUTH_SECRET=your-better-auth-secret-here
# BETTER_AUTH_URL=http://localhost:3000

# JWT (used only for internal API key validation, NOT user auth)
JWT_SECRET=generate_a_secure_random_string_at_least_32_chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Service-to-service API key (for price-sync workflow, etc.)
# Generate with: openssl rand -hex 32
INTERNAL_API_KEY=generate_a_separate_api_key_here

# =============================================================================
# GDPR/Compliance Settings
# =============================================================================
DATA_RETENTION_DAYS=730
CONSENT_REQUIRED=true
DATA_RESIDENCY=EU

# =============================================================================
# Notion Integration (Optional)
# =============================================================================
NOTION_API_KEY=secret_your_notion_key
NOTION_DATABASE_ID=your_database_id
NOTION_PROJECT_PAGE_ID=your_page_id

# =============================================================================
# GitHub Integration (for CI/CD)
# =============================================================================
GITHUB_TOKEN=ghp_your_github_token
GITHUB_WEBHOOK_SECRET=your_webhook_secret

# =============================================================================
# Monitoring Configuration
# =============================================================================
# Grafana admin password
GRAFANA_PASSWORD=change_this_secure_password
GRAFANA_ROOT_URL=http://localhost:3001

# Sentry (error tracking - optional)
SENTRY_DSN=https://your-key@sentry.io/project-id

# =============================================================================
# Application Settings
# =============================================================================
# Ports (change if needed)
BACKEND_PORT=8000
FRONTEND_PORT=3000
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001

# Environment
ENVIRONMENT=development

# API URL (for frontend)
API_URL=http://localhost:8000

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# =============================================================================
# ML Model Configuration
# =============================================================================
MODEL_FORECAST_HOURS=24
MODEL_RETRAIN_INTERVAL_DAYS=7
MODEL_ACCURACY_THRESHOLD_MAPE=10.0

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_AUTO_SWITCHING=false
ENABLE_LOAD_OPTIMIZATION=true
ENABLE_REAL_TIME_UPDATES=true

# =============================================================================
# 1Password Integration (recommended for production)
# =============================================================================
# OP_SERVICE_ACCOUNT_TOKEN=your_1password_service_account_token

# =============================================================================
# Slack Notifications (Optional)
# =============================================================================
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/xxx/xxx/xxx
# SLACK_CHANNEL=#deployments

# =============================================================================
# Loki Mode Configuration
# =============================================================================
LOKI_PROVIDER=claude
LOKI_PARALLEL=true
LOKI_AUTO_PR=true
LOKI_PROMPT_INJECTION=true
LOKI_AUDIT_ENABLED=true
LOKI_METRICS_ENABLED=true
LOKI_TELEMETRY_DISABLED=true

# =============================================================================
# IMPORTANT NOTES:
# =============================================================================
# 1. Generate secure passwords: openssl rand -hex 32
# 2. Never commit real credentials to version control
# 3. Use 1Password or similar for production secrets
# 4. Rotate keys regularly (every 90 days recommended)
# 5. Use different credentials for dev/staging/production
# =============================================================================
